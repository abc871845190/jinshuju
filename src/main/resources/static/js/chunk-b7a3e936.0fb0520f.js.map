{"version":3,"sources":["webpack:///./src/components/EditPageComp/BodyComponent/FillTable.vue?9b5c","webpack:///./src/components/EditPageComp/BodyComponent/FillTable.vue?1bd9","webpack:///./src/components/EditPageComp/BodyComponent/FillTable.vue?0151","webpack:///./src/components/EditPageComp/BodyComponent/FillTable.vue?42bb","webpack:///src/components/EditPageComp/BodyComponent/FillTable.vue","webpack:///./src/components/EditPageComp/tablecomp/Head.vue?6637","webpack:///src/components/EditPageComp/tablecomp/Head.vue","webpack:///./src/components/EditPageComp/tablecomp/Head.vue?0c9a","webpack:///./src/components/EditPageComp/tablecomp/Head.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","form","formTitle","formDesc","on","$event","$set","_l","item","index","iscomponent","templateName","key","tag","directives","name","rawName","value","expression","staticStyle","commit","_v","staticRenderFns","component","components","data","button","methods","$message","message","type","window","localStorage","setItem","$route","params","id","$router","push","mounted","res","code","templateList","length","i","templateCount","arr","r","templateContent","eval","templateImgUrl","_s"],"mappings":"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","file":"js/chunk-b7a3e936.0fb0520f.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillTable.vue?vue&type=style&index=0&id=22b93dfa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillTable.vue?vue&type=style&index=0&id=22b93dfa&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all-table\"},[_c('div',[_c('t-head',{attrs:{\"formTitle\":_vm.form.formTitle,\"formDesc\":_vm.form.formDesc},on:{\"update:formTitle\":function($event){return _vm.$set(_vm.form, \"formTitle\", $event)},\"update:form-title\":function($event){return _vm.$set(_vm.form, \"formTitle\", $event)},\"update:formDesc\":function($event){return _vm.$set(_vm.form, \"formDesc\", $event)},\"update:form-desc\":function($event){return _vm.$set(_vm.form, \"formDesc\", $event)}}})],1),_vm._l((_vm.form.templateList),function(item,index){return _c(_vm.iscomponent(item.templateName),{key:index,tag:\"component\",attrs:{\"data\":item,\"index\":index + 1}})}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.button),expression:\"button\"}],staticStyle:{\"text-align\":\"center\",\"padding\":\"20px\"}},[_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.commit}},[_vm._v(\"提交\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FillTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FillTable.vue?vue&type=template&id=22b93dfa&scoped=true&\"\nimport script from \"./FillTable.vue?vue&type=script&lang=js&\"\nexport * from \"./FillTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FillTable.vue?vue&type=style&index=0&id=22b93dfa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22b93dfa\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"all-table\">\r\n    <div>\r\n      <t-head\r\n        :formTitle.sync=\"form.formTitle\"\r\n        :formDesc.sync=\"form.formDesc\"\r\n      ></t-head>\r\n    </div>\r\n    <component\r\n      v-for=\"(item, index) in form.templateList\"\r\n      :is=\"iscomponent(item.templateName)\"\r\n      :data=\"item\"\r\n      :index=\"index + 1\"\r\n      :key=\"index\"\r\n    ></component>\r\n    <div style=\"text-align: center; padding: 20px\" v-show=\"button\">\r\n      <el-button type=\"primary\" style=\"width: 120px\" @click=\"commit\"\r\n        >提交</el-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport t_head from \"@/components/EditPageComp/tablecomp/Head.vue\";\r\nimport t_checkbox from \"@/components/EditPageComp/tablecomp/CheckBox.vue\";\r\nimport t_radio from \"@/components/EditPageComp/tablecomp/Radio.vue\";\r\nimport t_select from \"@/components/EditPageComp/tablecomp/Select.vue\";\r\nimport t_textbox from \"@/components/EditPageComp/tablecomp/TextBox.vue\";\r\nimport t_picradio from \"@/components/EditPageComp/tablecomp/PicRadio.vue\";\r\nimport comp from \"@/utils/comp.js\";\r\nimport { getFormation, submitTableData} from \"@/network/tabledata.js\";\r\nexport default {\r\n  components: {\r\n    \"t-head\": t_head,\r\n    \"t-checkbox\": t_checkbox,\r\n    \"t-radio\": t_radio,\r\n    \"t-select\": t_select,\r\n    \"t-textbox\": t_textbox,\r\n    \"t-picradio\":t_picradio\r\n  },\r\n  data: function () {\r\n    return {\r\n      form: [],\r\n      button: false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取组件名\r\n    iscomponent(component) {\r\n      return comp.is_table_comp(component);\r\n    },\r\n    // 提交表单\r\n    commit() {\r\n      if(comp.checkRequired(this.form)){\r\n        submitTableData(comp.commitForm(this.form));\r\n        this.$message({\r\n          message: \"提交表单成功!\",\r\n          type: \"success\",\r\n        });\r\n        //设置localstorage不能重复提交\r\n        window.localStorage.setItem(this.$route.params.id,\"1\")\r\n        this.$router.push(\"/finish\")\r\n      }else{\r\n        this.$message({\r\n          message: \"必填项不能为空(带*选项)!\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      \r\n    },\r\n  },\r\n  mounted: function () {\r\n    if(window.localStorage.getItem(this.$route.params.id) === \"1\"){\r\n      this.$router.push(\"/finish\")\r\n    }\r\n    //获取表单数据\r\n    getFormation(this.$route.params.id).then((res) => {\r\n      // 已发布\r\n      if (res.code === 1) {\r\n        this.button = true;\r\n        let index = 0;\r\n        let arr = [];\r\n        while (index < res.data.templateList.length) {\r\n          for (let i in res.data.templateList) {\r\n            if (res.data.templateList[i].templateCount === index) {\r\n              arr.push(res.data.templateList[i]);\r\n            }\r\n          }\r\n          index++;\r\n        }\r\n        res.data.templateList = arr\r\n        for (let r in res.data.templateList) {\r\n          if (\r\n            res.data.templateList[r].templateContent !== null &&\r\n            res.data.templateList[r].templateContent !== undefined &&\r\n            res.data.templateList[r].templateContent !== \"\"\r\n          ) {\r\n            res.data.templateList[r].templateContent = eval(\r\n              res.data.templateList[r].templateContent\r\n            );\r\n            res.data.templateList[r].templateImgUrl = eval(\r\n              res.data.templateList[r].templateImgUrl\r\n            );\r\n          }\r\n          if (res.data.templateList[r].templateName === \"checkbox\"||res.data.templateList[r].templateName === \"piccheckbox\") {\r\n            res.data.templateList[r].data = [];\r\n          } else {\r\n            res.data.templateList[r].data = \"\";\r\n          }\r\n        }\r\n        this.form = res.data;\r\n        // 未发布\r\n      } else if (res.code === 25) {\r\n        this.$message.error(\"此表单未发布或者不存在！\");\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.all-table {\r\n  max-width: 700px;\r\n  min-width: 100px;\r\n  background: #ffffff;\r\n  margin: 50px auto;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n}\r\n.t-desc {\r\n  color: gray;\r\n  font-size: 12px;\r\n  padding-bottom: 5px;\r\n}\r\n.t-radio,\r\n.t-select,\r\n.t-checkbox,\r\n.t-head,\r\n.t-textbox {\r\n  text-align: left;\r\n  padding: 15px 30px;\r\n}\r\n.selected {\r\n  background: #f7f7f7;\r\n  border: 1px dashed #b3b3b3;\r\n}\r\n.edit-btn {\r\n  background: #ffffff;\r\n  color: black;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.35), 0 0 6px rgba(0, 0, 0, 0.04);\r\n  border: 0;\r\n  padding: 3px;\r\n}\r\n</style>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"t-head\"},[_c('h2',[_vm._v(_vm._s(_vm.formTitle))]),_c('p',[_vm._v(_vm._s(_vm.formDesc))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"t-head\">\r\n        <!-- 标题 -->\r\n        <h2>{{formTitle}}</h2>\r\n        <!-- 标题详情 -->\r\n        <p>{{formDesc}}</p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Head',\r\n    data:function(){\r\n        return{\r\n            \r\n        }\r\n    },\r\n    props:{\r\n        formTitle:{\r\n            type:String,\r\n            // default:function(){\r\n            //     return{\r\n            //         head:'未命名',\r\n            //         detailed:'详细描述'\r\n            //     }\r\n            // }\r\n        },\r\n        formDesc:{\r\n            type:String\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Head.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Head.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Head.vue?vue&type=template&id=6aff0092&\"\nimport script from \"./Head.vue?vue&type=script&lang=js&\"\nexport * from \"./Head.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}